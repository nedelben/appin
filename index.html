<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ุงุณุชูุงุฑุฉ ูุงุฏู The BBB</title>
  <style>
    :root{
      --bg:#0b1220; --card:#0f1724; --accent:#06b6d4; --muted:#9aa4b2; --radius:14px;
      font-family:Inter,"Segoe UI",sans-serif;
    }
    body{margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;
         background:linear-gradient(180deg,#061528,#071224);color:#eaf2fb;padding:20px}
    .card{background:var(--card);padding:22px;border-radius:var(--radius);
          box-shadow:0 8px 28px rgba(0,0,0,.6);max-width:500px;width:100%}
    .hidden{display:none}
    h2{text-align:center;margin:0 0 12px}
    p{text-align:center;color:var(--muted)}
    input,select{width:100%;padding:10px;margin-top:8px;border-radius:8px;border:none;
                 background:rgba(255,255,255,0.05);color:#fff}
    button{margin-top:14px;padding:10px 16px;border:none;border-radius:10px;cursor:pointer;font-weight:bold}
    .primary{background:var(--accent);color:#012}
    .secondary{background:transparent;border:1px solid rgba(255,255,255,0.15);color:var(--muted)}
    .nav{display:flex;justify-content:space-between;gap:10px;margin-top:14px}
    .lamp-btn{position:fixed;top:14px;left:14px;width:46px;height:46px;border-radius:50%;
              background:var(--accent);display:flex;align-items:center;justify-content:center;
              font-size:22px;color:#012;z-index:1200;cursor:pointer}
    .overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.65);
             align-items:center;justify-content:center;z-index:1100}
    .overlay.show{display:flex}
    .overlay .card{text-align:center}
  </style>
</head>
<body>
  <!-- ุฒุฑ ุงููุตุจุงุญ -->
  <div class="lamp-btn" id="lampBtn">๐ก</div>

  <!-- ุจุทุงูุฉ ุงูุชุฑุญูุจ -->
  <div class="card" id="welcome">
    <h2>ูุฑุญุจูุงุ ูุญู ูุคุณุณ ูุงุฏู The BBB</h2>
    <p>
      ูุฏููุง: ุฒูุงุฏุฉ ุนุฏุฏ ูุฌูุฏุฉ ุงููุตุงุฏุฑ ุงูุฏุฑุงุณูุฉุ ูุชุจุณูุทูุง ุจุดูู ูุจูุฑ ููุณูู ุนูู ุงูุทุงูุจ ูุฑุงุฌุนุชูุง.  
      ุณูุนูู ูุน ุฃุณุงุชุฐุฉ ูุฃุดุฎุงุต ูู ุฎุงุฑุฌ ุงูุฌุงูุนุฉ ุฃูุถูุงุ ูููุฒุน ูุฐู ุงููุตุงุฏุฑ ูุฌุงููุง ุฏุงุฎู ุงูุฌุงูุนุฉ.
    </p>
    <p>
      ูููู ููุทูุงุจ ุงููุณุงููุฉ ุจุงููุชุงุจุฉุ ุงููุฑุงุฌุนุฉุ ุงูุชุตูููุ ุงูุจุฑูุฌุฉ (ูุชุญููู ุงููุญุชูู ุฅูู ูุชุจ ุฅููุชุฑูููุฉ)ุ ุฃู ุฃู ูุฌุงู ุขุฎุฑ ูููุฏ ูู ุชุทููุฑ ุงููุนุฑูุฉ.  
      ูู ูุง ุชูุชุฌููู ูููู ุฃู ูุณุชููุฏ ููู ุทูุงุจ ุงููุณุชูุจู.
    </p>
    <p style="font-weight:600;color:#dbe7f0">
      ููููู ุงูุชุณุฌูู ุงูุขู ูู ุนุถู ููุชู ูุงููุดุงุฑูุฉ ูู ุงููุดุงุทุงุชุ ูุณูููู ุจุฅููุงูู ูุงุญููุง ุชูููุน ุงูุงูุถูุงู ุงูุฑุณูู.  
      ุงูุทูุงุจ ุบูุฑ ุงููุณุฌููู ูููููู ุงููุดุงุฑูุฉ ุชุญุช ุฅุดุฑุงู ุงูุฃุนุถุงุก ุฃู ุงูุฃุณุชุงุฐ ุงููุดุฑู.
    </p>
    <div style="text-align:center">
      <button id="startBtn" class="primary">ุงุจุฏุฃ ุงูุชุณุฌูู</button>
    </div>
  </div>

  <!-- ุงูุงุณุชุจูุงู -->
  <form id="survey" class="card hidden">
    <div class="step">
      <label>1. ุงุณูู ุงููุงูู</label>
      <input name="Full Name" required>
    </div>
    <div class="step hidden">
      <label>2. ุชุฎุตุตู</label>
      <input name="Major" required>
    </div>
    <div class="step hidden">
      <label>3. ููู ุชูุฏ ุงููุณุงููุฉุ</label>
      <select name="Contribution" required>
        <option value="">ุงุฎุชุฑ</option>
        <option>ุงููุชุงุจุฉ</option><option>ุงููุฑุงุฌุนุฉ</option>
        <option>ุงูุชุตููู</option><option>ุงูุจุฑูุฌุฉ</option><option>ุฃุฎุฑู</option>
      </select>
    </div>
    <div class="step hidden">
      <label>4. ุจุฑูุฏู ุงูุฅููุชุฑููู</label>
      <input type="email" name="Email" required>
    </div>
    <div class="step hidden">
      <label>5. ูู ุชุฏุนู ููุฑุฉ ุชุฃุณูุณ ุงููุงุฏูุ</label>
      <select name="Support" required>
        <option value="">ุงุฎุชุฑ</option>
        <option>ูุนู</option><option>ูุง</option>
      </select>
    </div>
    <div class="nav">
      <button type="button" id="prevBtn" class="secondary">ุงูุณุงุจู</button>
      <button type="button" id="nextBtn" class="primary">ุงูุชุงูู</button>
    </div>
  </form>

  <!-- ุจุทุงูุฉ ุงูุดูุฑ -->
  <div id="thanksOverlay" class="overlay">
    <div class="card">
      <h2>ุดูุฑุงู ูู</h2>
      <p>โ ุชู ุฅุฑุณุงู ุจูุงูุงุชู ุจูุฌุงุญ.</p>
      <div style="text-align:center">
        <button id="closeThanks" class="primary">ุฅุบูุงู</button>
      </div>
    </div>
  </div>

  <!-- ุจุทุงูุฉ ุงููุตุจุงุญ -->
  <div id="lampOverlay" class="overlay">
    <div class="card">
      <h2>ูุนูู The BBB</h2>
      <p><b>Build Build Build</b><br>ุฅุดุงุฑุฉ ููุชุฑููุฒ ุนูู ุงูุฅูุชุงุฌ ูุตูุงุนุฉ ูุญุชูู ูุจุณุท ูููุฏ ุงูุทูุงุจ.</p>
      <div style="text-align:center">
        <button id="lampClose" class="primary">ุฅุบูุงู</button>
      </div>
    </div>
  </div>

<script>
  const welcome=document.getElementById('welcome');
  const startBtn=document.getElementById('startBtn');
  const form=document.getElementById('survey');
  const steps=[...document.querySelectorAll('.step')];
  const next=document.getElementById('nextBtn');
  const prev=document.getElementById('prevBtn');
  const thanks=document.getElementById('thanksOverlay');
  const closeThanks=document.getElementById('closeThanks');

  let idx=0;

  startBtn.onclick=()=>{welcome.classList.add('hidden');form.classList.remove('hidden');update()};
  prev.onclick=()=>{if(idx>0){steps[idx].classList.add('hidden');idx--;update()}};
  next.onclick=async()=>{
    const inputs=steps[idx].querySelectorAll('input,select');
    for(const el of inputs){if(el.required&&!el.value){el.reportValidity();return;}}
    if(idx<steps.length-1){steps[idx].classList.add('hidden');idx++;update();}
    else{await submit();}
  };

  function update(){
    steps[idx].classList.remove('hidden');
    prev.style.display=idx===0?"none":"inline-block";
    next.textContent=idx===steps.length-1?"ุฅุฑุณุงู":"ุงูุชุงูู";
  }

  async function submit(){
    const data=Object.fromEntries(new FormData(form).entries());
    const url="https://script.google.com/macros/s/AKfycbyRlJaCofUEkCkWtFQWbhmkhtWhs0AOx77mTLwT3SixPP9TTD_FmbMeicZ1Oq_l-99Egg/exec";
    await fetch(url,{method:"POST",body:JSON.stringify(data),headers:{"Content-Type":"application/json"}});
    form.classList.add('hidden');show(thanks);
  }

  closeThanks.onclick=()=>{hide(thanks);form.reset();welcome.classList.remove('hidden')};

  // ุฒุฑ ุงููุตุจุงุญ
  const lampBtn=document.getElementById('lampBtn');
  const lampOverlay=document.getElementById('lampOverlay');
  const lampClose=document.getElementById('lampClose');
  lampBtn.onclick=()=>show(lampOverlay);
  lampClose.onclick=()=>hide(lampOverlay);
  lampOverlay.onclick=(e)=>{if(e.target===lampOverlay)hide(lampOverlay)};
  thanks.onclick=(e)=>{if(e.target===thanks)hide(thanks)};

  function show(el){el.classList.add('show')}
  function hide(el){el.classList.remove('show')}
</script>
</body>
</html>

